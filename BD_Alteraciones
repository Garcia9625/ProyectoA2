ALTER TABLE [dbo].[DecripcionVentaAlxMayor]  WITH CHECK ADD  CONSTRAINT [FK_DecripcionVentaAlxMayorInventario] FOREIGN KEY([IdProducto])
REFERENCES [dbo].[InventarioAlxMayor] ([IdLote])
GO
ALTER TABLE [dbo].[DecripcionVentaAlxMayor] CHECK CONSTRAINT [FK_DecripcionVentaAlxMayorInventario]
GO
ALTER TABLE [dbo].[DecripcionVentaAlxMayor]  WITH CHECK ADD  CONSTRAINT [FK_DecripcionVentaAlxMayorVenta] FOREIGN KEY([IdVentaMayor])
REFERENCES [dbo].[VentaAlxMayor] ([IdVentaMayor])
GO
ALTER TABLE [dbo].[DecripcionVentaAlxMayor] CHECK CONSTRAINT [FK_DecripcionVentaAlxMayorVenta]
GO
ALTER TABLE [dbo].[DescripcionVentaAlDetalle]  WITH CHECK ADD FOREIGN KEY([IdVentaDetalle])
REFERENCES [dbo].[VentaAlDetalle] ([IdVentaDetalle])
GO
ALTER TABLE [dbo].[DescripcionVentaAlDetalle]  WITH CHECK ADD  CONSTRAINT [FK_DescripcionVentaDetalleInventarioDetalle] FOREIGN KEY([IdProducto])
REFERENCES [dbo].[InventarioAlDetalle] ([IdProducto])
GO
ALTER TABLE [dbo].[DescripcionVentaAlDetalle] CHECK CONSTRAINT [FK_DescripcionVentaDetalleInventarioDetalle]
GO
ALTER TABLE [dbo].[Usuario]  WITH CHECK ADD  CONSTRAINT [FK_Empleado] FOREIGN KEY([IdEmpleado])
REFERENCES [dbo].[Empleado] ([Dni])
GO
ALTER TABLE [dbo].[Usuario] CHECK CONSTRAINT [FK_Empleado]
GO
ALTER TABLE [dbo].[VentaAlDetalle]  WITH CHECK ADD  CONSTRAINT [FK_VentaDetalleCliente] FOREIGN KEY([IdClienteDetalle])
REFERENCES [dbo].[ClienteAlDetalle] ([Dni])
GO
ALTER TABLE [dbo].[VentaAlDetalle] CHECK CONSTRAINT [FK_VentaDetalleCliente]
GO
ALTER TABLE [dbo].[VentaAlDetalle]  WITH CHECK ADD  CONSTRAINT [FK_VentaDetalleEmpleado] FOREIGN KEY([IdEmpleado])
REFERENCES [dbo].[Empleado] ([Dni])
GO
ALTER TABLE [dbo].[VentaAlDetalle] CHECK CONSTRAINT [FK_VentaDetalleEmpleado]
GO
ALTER TABLE [dbo].[VentaAlxMayor]  WITH CHECK ADD  CONSTRAINT [FK_VentaAlxMayorCliente] FOREIGN KEY([IdClienteMayor])
REFERENCES [dbo].[ClienteAlxMayor] ([IdCliente])
GO
ALTER TABLE [dbo].[VentaAlxMayor] CHECK CONSTRAINT [FK_VentaAlxMayorCliente]
GO
ALTER TABLE [dbo].[VentaAlxMayor]  WITH CHECK ADD  CONSTRAINT [FK_VentaAlxMayorEmpleado] FOREIGN KEY([IdEmpleado])
REFERENCES [dbo].[Empleado] ([Dni])
GO
ALTER TABLE [dbo].[VentaAlxMayor] CHECK CONSTRAINT [FK_VentaAlxMayorEmpleado]
GO
ALTER TABLE [dbo].InventarioAlDetalle ADD Cantidad int;

ALTER TABLE [dbo].VentaAlxMayor ADD Estado bit;

ALTER TABLE [dbo].VentaAlxMayor ADD SaldoPendiente float;

ALTER TABLE [dbo].VentaAlxMayor ADD TotalAbonado float;

ALTER TABLE [dbo].VentaAlxMayor ADD UltimoAbono float;

ALTER TABLE [dbo].InventarioAlxMayor ADD Estado bit;
Alter Table [dbo].VentaAlxMayor ADD FechaVenta datetime;
Alter Table [dbo].InventarioAlxMayor add Estado bit;



/*ultimas alteraciones*/

USE [DBMODAPIE]
GO

/****** Object:  StoredProcedure [dbo].[sp_BuscarCAD]    Script Date: 19/8/2018 20:46:48 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



 ALTER  PROCEDURE [dbo].[sp_BuscarCAD] 

@Dni varchar(30)

AS

BEGIN

SET NOCOUNT ON;

SELECT Dni,Nombre,Apellido1,Apellido2,Celular,Telefono,Correo

From ClienteAlDetalle

Where Dni = @Dni;

END

GO




USE [DBMODAPIE]
GO

/****** Object:  StoredProcedure [dbo].[MostrarCAD]    Script Date: 19/8/2018 19:48:41 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


 ALTER  PROCEDURE [dbo].[MostrarCAD] 
AS
BEGIN
SET NOCOUNT ON;
SELECT * from [dbo].[ClienteAlDetalle];
END
GO





